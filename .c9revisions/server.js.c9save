{"ts":1349735729438,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var app = require('http').createServer(handler)\r\n, io = require('socket.io').listen(app)\r\n, fs = require('fs')\r\n\r\napp.listen(process.env.PORT || 8001);\r\n\r\nfunction handler (req, res) {\r\nfs.readFile('index.html',\r\nfunction (err, data) {\r\nif (err) {\r\nres.writeHead(500);\r\nreturn res.end('Error loading index.html');\r\n}\r\n\r\nres.writeHead(200, {'Content-Type': 'text/html', \"Content-Length\": data.length});\r\nres.end(data);\r\n});\r\n}\r\n\r\nio.sockets.on('connection', function (socket) {\r\n// echo the message\r\nsocket.on('message', function (data) {\r\nconsole.info(data);\r\nsocket.send(\"[ECHO] \"+data);\r\n});\r\n});"]],"start1":0,"start2":0,"length1":0,"length2":598}]],"length":598}
{"contributors":[],"silentsave":false,"ts":1349748029938,"patch":[[{"diffs":[[0,"re('fs')"],[1,";"],[0,"\r\n\r\napp."]],"start1":102,"start2":102,"length1":16,"length2":17}]],"length":599,"saved":false}
{"ts":1349748102757,"patch":[[{"diffs":[[0,"res) {\r\n"],[1,"    "],[0,"fs.readF"]],"start1":179,"start2":179,"length1":16,"length2":20},{"diffs":[[0,"html',\r\n"],[1,"        "],[0,"function"]],"start1":210,"start2":210,"length1":16,"length2":24},{"diffs":[[0," {\r\n"],[-1,"if (err) {\r\n"],[1,"            if (err) {\r\n                "],[0,"res."]],"start1":246,"start2":246,"length1":20,"length2":48},{"diffs":[[0,"(500);\r\n"],[1,"                "],[0,"return r"]],"start1":303,"start2":303,"length1":16,"length2":32},{"diffs":[[0,"tml');\r\n"],[-1,"}\r\n\r\n"],[1,"            }\r\n            "],[0,"res.writ"]],"start1":364,"start2":364,"length1":21,"length2":43},{"diffs":[[0,"gth});\r\n"],[1,"            "],[0,"res.end("]],"start1":474,"start2":474,"length1":16,"length2":28},{"diffs":[[0,"end(data);\r\n"],[1,"    "],[0,"});\r\n}\r\n\r\nio"]],"start1":498,"start2":498,"length1":24,"length2":28},{"diffs":[[0,"ket) {\r\n"],[1,"    "],[0,"// echo "]],"start1":565,"start2":565,"length1":16,"length2":20},{"diffs":[[0,"essage\r\n"],[1,"    "],[0,"socket.o"]],"start1":590,"start2":590,"length1":16,"length2":20},{"diffs":[[0,"ata) {\r\n"],[1,"        "],[0,"console."]],"start1":634,"start2":634,"length1":16,"length2":24},{"diffs":[[0,"data);\r\n"],[1,"        "],[0,"socket.s"]],"start1":663,"start2":663,"length1":16,"length2":24},{"diffs":[[0,"data);\r\n"],[1,"    "],[0,"});\r\n});"]],"start1":701,"start2":701,"length1":16,"length2":20}]],"length":721,"saved":false}
{"ts":1349748120670,"patch":[[{"diffs":[[0,"handler)"],[1,","],[0,"\r\n"],[-1,","],[1,"   "],[0," io = re"]],"start1":39,"start2":39,"length1":19,"length2":22},{"diffs":[[0,"app)"],[1,","],[0,"\r\n"],[-1,","],[1,"   "],[0," fs "]],"start1":87,"start2":87,"length1":11,"length2":14}]],"length":727,"saved":false}
